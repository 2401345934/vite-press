import { resolveComponent, withCtx, createVNode, useSSRContext } from "vue";
import { ssrRenderAttrs, ssrRenderComponent, ssrRenderStyle, ssrRenderAttr } from "vue/server-renderer";
import { _ as _export_sfc } from "./plugin-vue_export-helper.6ab74304.js";
const _imports_0 = "/vite-press/assets/ngixn-base.0db9b462.webp";
const __pageData = JSON.parse('{"title":"\u57FA\u7840\u77E5\u8BC6","description":"","frontmatter":{"createTime":"2022/10/13","tag":"nginx"},"headers":[{"level":2,"title":"\u57FA\u7840\u547D\u4EE4","slug":"\u57FA\u7840\u547D\u4EE4","link":"#\u57FA\u7840\u547D\u4EE4","children":[{"level":3,"title":"\u5217\u51FA nginx \u76F8\u5173\u8F6F\u4EF6\u5305","slug":"\u5217\u51FA-nginx-\u76F8\u5173\u8F6F\u4EF6\u5305","link":"#\u5217\u51FA-nginx-\u76F8\u5173\u8F6F\u4EF6\u5305","children":[]},{"level":3,"title":"\u5B89\u88C5 nginx","slug":"\u5B89\u88C5-nginx","link":"#\u5B89\u88C5-nginx","children":[]},{"level":3,"title":"\u67E5\u770B nginx \u7248\u672C\u4FE1\u606F","slug":"\u67E5\u770B-nginx-\u7248\u672C\u4FE1\u606F","link":"#\u67E5\u770B-nginx-\u7248\u672C\u4FE1\u606F","children":[]},{"level":3,"title":"\u5217\u51FA nginx \u76F8\u5173\u76EE\u5F55","slug":"\u5217\u51FA-nginx-\u76F8\u5173\u76EE\u5F55","link":"#\u5217\u51FA-nginx-\u76F8\u5173\u76EE\u5F55","children":[]},{"level":3,"title":"\u5168\u683C\u5F0F\u663E\u793A\u6240\u6709 nginx \u8FD0\u884C\u8FDB\u7A0B","slug":"\u5168\u683C\u5F0F\u663E\u793A\u6240\u6709-nginx-\u8FD0\u884C\u8FDB\u7A0B","link":"#\u5168\u683C\u5F0F\u663E\u793A\u6240\u6709-nginx-\u8FD0\u884C\u8FDB\u7A0B","children":[]},{"level":3,"title":"\u5F00\u673A\u81EA\u542F","slug":"\u5F00\u673A\u81EA\u542F","link":"#\u5F00\u673A\u81EA\u542F","children":[]},{"level":3,"title":"\u542F\u52A8 & \u505C\u6B62 & \u91CD\u542F & \u91CD\u8F7D","slug":"\u542F\u52A8-\u505C\u6B62-\u91CD\u542F-\u91CD\u8F7D","link":"#\u542F\u52A8-\u505C\u6B62-\u91CD\u542F-\u91CD\u8F7D","children":[]},{"level":3,"title":"\u91CD\u8F7D nginx\uFF0C\u66F4\u6539 nginx \u914D\u7F6E\u540E\u9700\u6267\u884C","slug":"\u91CD\u8F7D-nginx\uFF0C\u66F4\u6539-nginx-\u914D\u7F6E\u540E\u9700\u6267\u884C","link":"#\u91CD\u8F7D-nginx\uFF0C\u66F4\u6539-nginx-\u914D\u7F6E\u540E\u9700\u6267\u884C","children":[]},{"level":3,"title":"\u6740\u6B7B\u5355\u4E2A\u8FDB\u7A0B","slug":"\u6740\u6B7B\u5355\u4E2A\u8FDB\u7A0B","link":"#\u6740\u6B7B\u5355\u4E2A\u8FDB\u7A0B","children":[]},{"level":3,"title":"\u67E5\u770B nginx \u6700\u7EC8\u914D\u7F6E","slug":"\u67E5\u770B-nginx-\u6700\u7EC8\u914D\u7F6E","link":"#\u67E5\u770B-nginx-\u6700\u7EC8\u914D\u7F6E","children":[]},{"level":3,"title":"\u68C0\u67E5\u914D\u7F6E\u9879\u662F\u5426\u6709\u95EE\u9898\uFF0C\u6BCF\u6B21\u66F4\u6539\u5B8C\u5148\u68C0\u67E5\u540E\u91CD\u8F7D","slug":"\u68C0\u67E5\u914D\u7F6E\u9879\u662F\u5426\u6709\u95EE\u9898\uFF0C\u6BCF\u6B21\u66F4\u6539\u5B8C\u5148\u68C0\u67E5\u540E\u91CD\u8F7D","link":"#\u68C0\u67E5\u914D\u7F6E\u9879\u662F\u5426\u6709\u95EE\u9898\uFF0C\u6BCF\u6B21\u66F4\u6539\u5B8C\u5148\u68C0\u67E5\u540E\u91CD\u8F7D","children":[]}]},{"level":2,"title":"\u914D\u7F6E\u6587\u4EF6","slug":"\u914D\u7F6E\u6587\u4EF6","link":"#\u914D\u7F6E\u6587\u4EF6","children":[{"level":3,"title":"\u4E0A\u6587\u65E5\u5FD7\u683C\u5F0F\u4E2D\u6240\u6D89\u53CA\u53D8\u91CF\u542B\u4E49\u5982\u4E0B","slug":"\u4E0A\u6587\u65E5\u5FD7\u683C\u5F0F\u4E2D\u6240\u6D89\u53CA\u53D8\u91CF\u542B\u4E49\u5982\u4E0B","link":"#\u4E0A\u6587\u65E5\u5FD7\u683C\u5F0F\u4E2D\u6240\u6D89\u53CA\u53D8\u91CF\u542B\u4E49\u5982\u4E0B","children":[]}]},{"level":2,"title":"\u9759\u6001\u8D44\u6E90\u914D\u7F6E","slug":"\u9759\u6001\u8D44\u6E90\u914D\u7F6E","link":"#\u9759\u6001\u8D44\u6E90\u914D\u7F6E","children":[]},{"level":2,"title":"\u53CD\u5411\u4EE3\u7406","slug":"\u53CD\u5411\u4EE3\u7406","link":"#\u53CD\u5411\u4EE3\u7406","children":[]},{"level":2,"title":"HTTPS","slug":"https","link":"#https","children":[{"level":3,"title":"\u914D\u7F6EHTTPS","slug":"\u914D\u7F6Ehttps","link":"#\u914D\u7F6Ehttps","children":[]}]},{"level":2,"title":"\u56FE\u7247\u9632\u76D7\u94FE","slug":"\u56FE\u7247\u9632\u76D7\u94FE","link":"#\u56FE\u7247\u9632\u76D7\u94FE","children":[]},{"level":2,"title":"\u8BBF\u95EE\u9650\u5236","slug":"\u8BBF\u95EE\u9650\u5236","link":"#\u8BBF\u95EE\u9650\u5236","children":[]},{"level":2,"title":"\u7981\u7528\u8BF7\u6C42\u65B9\u6CD5","slug":"\u7981\u7528\u8BF7\u6C42\u65B9\u6CD5","link":"#\u7981\u7528\u8BF7\u6C42\u65B9\u6CD5","children":[]},{"level":2,"title":"\u7F13\u5B58","slug":"\u7F13\u5B58","link":"#\u7F13\u5B58","children":[]},{"level":2,"title":"PC\u7AEF\u548C\u79FB\u52A8\u7AEF\u4F7F\u7528\u4E0D\u540C\u9879\u76EE","slug":"pc\u7AEF\u548C\u79FB\u52A8\u7AEF\u4F7F\u7528\u4E0D\u540C\u9879\u76EE","link":"#pc\u7AEF\u548C\u79FB\u52A8\u7AEF\u4F7F\u7528\u4E0D\u540C\u9879\u76EE","children":[]},{"level":2,"title":"\u8D1F\u8F7D\u5747\u8861","slug":"\u8D1F\u8F7D\u5747\u8861","link":"#\u8D1F\u8F7D\u5747\u8861","children":[]},{"level":2,"title":"\u9650\u901F\u9650\u6D41","slug":"\u9650\u901F\u9650\u6D41","link":"#\u9650\u901F\u9650\u6D41","children":[]},{"level":2,"title":"\u5176\u5B83","slug":"\u5176\u5B83","link":"#\u5176\u5B83","children":[{"level":3,"title":"\u5F00\u542Fgzip","slug":"\u5F00\u542Fgzip","link":"#\u5F00\u542Fgzip","children":[]}]}],"relativePath":"interview-questions/nginx/basis/index.md","lastUpdated":1667281923000}');
const _sfc_main = { name: "interview-questions/nginx/basis/index.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  const _component_ClientOnly = resolveComponent("ClientOnly");
  const _component_ArticleMetadata = resolveComponent("ArticleMetadata");
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="\u57FA\u7840\u77E5\u8BC6" tabindex="-1">\u57FA\u7840\u77E5\u8BC6 <a class="header-anchor" href="#\u57FA\u7840\u77E5\u8BC6" aria-hidden="true">#</a></h1>`);
  _push(ssrRenderComponent(_component_ClientOnly, null, {
    default: withCtx((_, _push2, _parent2, _scopeId) => {
      if (_push2) {
        _push2(ssrRenderComponent(_component_ArticleMetadata, null, null, _parent2, _scopeId));
      } else {
        return [
          createVNode(_component_ArticleMetadata)
        ];
      }
    }),
    _: 1
  }, _parent));
  _push(`<h2 id="\u57FA\u7840\u547D\u4EE4" tabindex="-1">\u57FA\u7840\u547D\u4EE4 <a class="header-anchor" href="#\u57FA\u7840\u547D\u4EE4" aria-hidden="true">#</a></h2><h3 id="\u5217\u51FA-nginx-\u76F8\u5173\u8F6F\u4EF6\u5305" tabindex="-1">\u5217\u51FA nginx \u76F8\u5173\u8F6F\u4EF6\u5305 <a class="header-anchor" href="#\u5217\u51FA-nginx-\u76F8\u5173\u8F6F\u4EF6\u5305" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">yum</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">list</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">grep</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">yum list </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> grep nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>yum list\uFF1A\u5217\u51FA\u6240\u6709\u8F6F\u4EF6\u6E05\u5355</li><li>yum list installed\uFF1A\u5217\u51FA\u5DF2\u5B89\u88C5\u8F6F\u4EF6\u6E05\u5355 -- \u68C0\u6D4B\u7CFB\u7EDF\u4E2D\u662F\u5426\u5B89\u88C5\u67D0\u4E2A\u8F6F\u4EF6</li><li>grep\uFF1A\u7528\u4E8E\u67E5\u627E\u6587\u4EF6\u4E2D\u7B26\u5408\u6761\u4EF6\u7684\u5B57\u7B26\u4E32</li></ul><h3 id="\u5B89\u88C5-nginx" tabindex="-1">\u5B89\u88C5 nginx <a class="header-anchor" href="#\u5B89\u88C5-nginx" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">yum</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">install</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">yum install nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u67E5\u770B-nginx-\u7248\u672C\u4FE1\u606F" tabindex="-1">\u67E5\u770B nginx \u7248\u672C\u4FE1\u606F <a class="header-anchor" href="#\u67E5\u770B-nginx-\u7248\u672C\u4FE1\u606F" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">v</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">v</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u5217\u51FA-nginx-\u76F8\u5173\u76EE\u5F55" tabindex="-1">\u5217\u51FA nginx \u76F8\u5173\u76EE\u5F55 <a class="header-anchor" href="#\u5217\u51FA-nginx-\u76F8\u5173\u76EE\u5F55" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">rpm</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ql</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">rpm </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ql nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u5168\u683C\u5F0F\u663E\u793A\u6240\u6709-nginx-\u8FD0\u884C\u8FDB\u7A0B" tabindex="-1">\u5168\u683C\u5F0F\u663E\u793A\u6240\u6709 nginx \u8FD0\u884C\u8FDB\u7A0B <a class="header-anchor" href="#\u5168\u683C\u5F0F\u663E\u793A\u6240\u6709-nginx-\u8FD0\u884C\u8FDB\u7A0B" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ps</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ef</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">grep</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ps </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ef </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> grep nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>ps\uFF1A\u5217\u51FA\u7CFB\u7EDF\u4E2D\u5F53\u524D\u8FD0\u884C\u7684\u8FDB\u7A0B</li><li>-ef\uFF1A-e \u663E\u793A\u6240\u6709\uFF0C-f \u5168\u683C\u5F0F\u663E\u793A\uFF0C\u4E5F\u53EF\u4F7F\u7528 aux\uFF0C\u4E24\u8005\u663E\u793A\u98CE\u683C\u4E0D\u540C</li></ul><h3 id="\u5F00\u673A\u81EA\u542F" tabindex="-1">\u5F00\u673A\u81EA\u542F <a class="header-anchor" href="#\u5F00\u673A\u81EA\u542F" aria-hidden="true">#</a></h3><h4 id="\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F" tabindex="-1">\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F <a class="header-anchor" href="#\u8BBE\u7F6E\u5F00\u673A\u81EA\u542F" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">enable</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">systemctl enable nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="\u5173\u95ED\u5F00\u673A\u81EA\u542F" tabindex="-1">\u5173\u95ED\u5F00\u673A\u81EA\u542F <a class="header-anchor" href="#\u5173\u95ED\u5F00\u673A\u81EA\u542F" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">disable</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">systemctl disable nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>\u53EF\u7528 reboot \u91CD\u542F\u670D\u52A1\u5668\uFF0C\u914D\u5408 ps -ef | grep nginx \u8FDB\u884C\u6D4B\u8BD5</p><h3 id="\u542F\u52A8-\u505C\u6B62-\u91CD\u542F-\u91CD\u8F7D" tabindex="-1">\u542F\u52A8 &amp; \u505C\u6B62 &amp; \u91CD\u542F &amp; \u91CD\u8F7D <a class="header-anchor" href="#\u542F\u52A8-\u505C\u6B62-\u91CD\u542F-\u91CD\u8F7D" aria-hidden="true">#</a></h3><h4 id="\u542F\u52A8-nginx" tabindex="-1">\u542F\u52A8 nginx <a class="header-anchor" href="#\u542F\u52A8-nginx" aria-hidden="true">#</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">start</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> \uFF5C </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">systemctl start nginx \uFF5C nginx</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="\u505C\u6B62-nginx" tabindex="-1">\u505C\u6B62 nginx <a class="header-anchor" href="#\u505C\u6B62-nginx" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">stop</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">s</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">stop</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">systemctl stop nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">s stop</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="\u91CD\u542F-nginx" tabindex="-1">\u91CD\u542F nginx <a class="header-anchor" href="#\u91CD\u542F-nginx" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">restart</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">s</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">reopen</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">systemctl restart nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">s reopen</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u91CD\u8F7D-nginx\uFF0C\u66F4\u6539-nginx-\u914D\u7F6E\u540E\u9700\u6267\u884C" tabindex="-1">\u91CD\u8F7D nginx\uFF0C\u66F4\u6539 nginx \u914D\u7F6E\u540E\u9700\u6267\u884C <a class="header-anchor" href="#\u91CD\u8F7D-nginx\uFF0C\u66F4\u6539-nginx-\u914D\u7F6E\u540E\u9700\u6267\u884C" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">systemctl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">reload</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">s</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">reload</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">systemctl reload nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">s reload</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u6740\u6B7B\u5355\u4E2A\u8FDB\u7A0B" tabindex="-1">\u6740\u6B7B\u5355\u4E2A\u8FDB\u7A0B <a class="header-anchor" href="#\u6740\u6B7B\u5355\u4E2A\u8FDB\u7A0B" aria-hidden="true">#</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">kill</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">9</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">PID</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF08</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u8FDB\u7A0BID</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF09</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">kill </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">9</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> PID\uFF08\u8FDB\u7A0BID\uFF09</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u67E5\u770B-nginx-\u6700\u7EC8\u914D\u7F6E" tabindex="-1">\u67E5\u770B nginx \u6700\u7EC8\u914D\u7F6E <a class="header-anchor" href="#\u67E5\u770B-nginx-\u6700\u7EC8\u914D\u7F6E" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">T</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">T</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="\u68C0\u67E5\u914D\u7F6E\u9879\u662F\u5426\u6709\u95EE\u9898\uFF0C\u6BCF\u6B21\u66F4\u6539\u5B8C\u5148\u68C0\u67E5\u540E\u91CD\u8F7D" tabindex="-1">\u68C0\u67E5\u914D\u7F6E\u9879\u662F\u5426\u6709\u95EE\u9898\uFF0C\u6BCF\u6B21\u66F4\u6539\u5B8C\u5148\u68C0\u67E5\u540E\u91CD\u8F7D <a class="header-anchor" href="#\u68C0\u67E5\u914D\u7F6E\u9879\u662F\u5426\u6709\u95EE\u9898\uFF0C\u6BCF\u6B21\u66F4\u6539\u5B8C\u5148\u68C0\u67E5\u540E\u91CD\u8F7D" aria-hidden="true">#</a></h3><h4 id="\u5F53\u524D\u76EE\u5F55\u4E0B" tabindex="-1">\u5F53\u524D\u76EE\u5F55\u4E0B <a class="header-anchor" href="#\u5F53\u524D\u76EE\u5F55\u4E0B" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">t</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">t</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="\u4E0D\u5728\u5F53\u524D\u76EE\u5F55" tabindex="-1">\u4E0D\u5728\u5F53\u524D\u76EE\u5F55 <a class="header-anchor" href="#\u4E0D\u5728\u5F53\u524D\u76EE\u5F55" aria-hidden="true">#</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">t</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">c</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u914D\u7F6E\u8DEF\u5F84</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">t </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">c </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u914D\u7F6E\u8DEF\u5F84</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="\u914D\u7F6E\u6587\u4EF6" tabindex="-1">\u914D\u7F6E\u6587\u4EF6 <a class="header-anchor" href="#\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a></h2><p>nginx.conf \u6587\u4EF6\u9ED8\u8BA4\u914D\u7F6E <img${ssrRenderAttr("src", _imports_0)} alt="\u56FE\u7247"></p><h3 id="\u4E0A\u6587\u65E5\u5FD7\u683C\u5F0F\u4E2D\u6240\u6D89\u53CA\u53D8\u91CF\u542B\u4E49\u5982\u4E0B" tabindex="-1">\u4E0A\u6587\u65E5\u5FD7\u683C\u5F0F\u4E2D\u6240\u6D89\u53CA\u53D8\u91CF\u542B\u4E49\u5982\u4E0B <a class="header-anchor" href="#\u4E0A\u6587\u65E5\u5FD7\u683C\u5F0F\u4E2D\u6240\u6D89\u53CA\u53D8\u91CF\u542B\u4E49\u5982\u4E0B" aria-hidden="true">#</a></h3><ul><li>\u53D8\u91CF \u542B\u4E49</li><li>$remote_addr \u5BA2\u6237\u7AEF\u5730\u5740</li><li>$remote_user \u5DF2\u7ECF\u8FC7\u9A8C\u8BC1\u7684\u7528\u6237\u540D</li><li>$time_local \u901A\u7528\u65E5\u5FD7\u683C\u5F0F\u7684\u672C\u5730\u65F6\u95F4</li><li>$request \u5B8C\u6574\u7684\u539F\u59CB\u7684\u8BF7\u6C42\u884C</li><li>$status \u4E0B\u53D1\u7ED9\u5BA2\u6237\u7AEF\u7684\u54CD\u5E94\u7801</li><li>$body_bytes_sent \u4E0B\u53D1\u7ED9\u5BA2\u6237\u7AEF\u7684\u5B57\u8282\u6570</li><li>$http_referer \u5F53\u524D\u8BF7\u6C42\u4E0A\u4E00\u6B21\u9875\u9762\u8BBF\u95EE\u7684\u5730\u5740</li><li>$http_user_agent \u5BA2\u6237\u7AEFagent\u4FE1\u606F</li><li>$http_x_forwarded_for \u83B7\u5F97\u7528\u6237ip</li></ul><h2 id="\u9759\u6001\u8D44\u6E90\u914D\u7F6E" tabindex="-1">\u9759\u6001\u8D44\u6E90\u914D\u7F6E <a class="header-anchor" href="#\u9759\u6001\u8D44\u6E90\u914D\u7F6E" aria-hidden="true">#</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">listen</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">80</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">static</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">static</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">root</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">home</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">alias</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">home</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">static</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">autoindex</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">on</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;             # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5F00\u542F\u9759\u6001\u8D44\u6E90\u76EE\u5F55</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">autoindex_exact_size</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">off</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">; # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6587\u4EF6\u5355\u4F4D</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">--</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">on</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5B57\u8282</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">      </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">off</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">KB</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\u3001</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">MB</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\u3001</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">GB</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">autoindex_localtime</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">off</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u65F6\u95F4\u683C\u5F0F</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">--</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">on</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u670D\u52A1\u5668\u65F6\u95F4</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">off</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">GMT\u65F6\u95F4</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">autoindex_format</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">html</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;    # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u76EE\u5F55\u683C\u5F0F</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">listen</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">80</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">static</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">static</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">root</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">home</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">alias</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">home</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">static</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">autoindex</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">on</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">             # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5F00\u542F\u9759\u6001\u8D44\u6E90\u76EE\u5F55</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">autoindex_exact_size</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">off</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6587\u4EF6\u5355\u4F4D</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">--</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">on</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5B57\u8282</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">      </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">off</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">KB</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\u3001</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">MB</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\u3001</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">GB</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">autoindex_localtime</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">off</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u65F6\u95F4\u683C\u5F0F</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">--</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">on</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u670D\u52A1\u5668\u65F6\u95F4</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">off</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF1A</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">GMT\u65F6\u95F4</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">autoindex_format</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">html</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">    # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u76EE\u5F55\u683C\u5F0F</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>\u8BBF\u95EE <a href="http://static.deeruby.com/static/othe%E2%80%A6" target="_blank" rel="noreferrer">static.deeruby.com/static/othe\u2026</a> \u6210\u529F\uFF0C\u5373\u914D\u7F6E\u6210\u529F</p><h4 id="root-\u4E0E-alias-\u533A\u522B" tabindex="-1">root \u4E0E alias \u533A\u522B <a class="header-anchor" href="#root-\u4E0E-alias-\u533A\u522B" aria-hidden="true">#</a></h4><ul><li>\u56FE\u4E2D\u9759\u6001\u8D44\u6E90\u6240\u5728\u76EE\u5F55\u4E3A\uFF1A/home/static\uFF1Broot \u67E5\u627E\u9759\u6001\u8D44\u6E90\u7684\u8DEF\u5F84\u4E3A\u5176\u586B\u5199\u8DEF\u5F84\u62FC\u63A5 location \u8DEF\u5F84\uFF0Calias \u5219\u76F4\u63A5\u5BFB\u627E\u5176\u586B\u5199\u8DEF\u5F84\uFF1B</li><li>alias \u53EA\u80FD\u7528\u4E8E location \u4E2D\uFF1B</li></ul><h4 id="autoindex" tabindex="-1">autoindex <a class="header-anchor" href="#autoindex" aria-hidden="true">#</a></h4><p>\u5F00\u542F autoindex \u53EF\u8BBF\u95EE\u6587\u4EF6\u6839\u76EE\u5F55</p><h2 id="\u53CD\u5411\u4EE3\u7406" tabindex="-1">\u53CD\u5411\u4EE3\u7406 <a class="header-anchor" href="#\u53CD\u5411\u4EE3\u7406" aria-hidden="true">#</a></h2><h4 id="\u6211\u4EEC\u5728\u670D\u52A1\u5668\u4E0A\u8DD1\u4E00\u4E2A-node-\u9879\u76EE\uFF0C\u914D\u7F6E\u7528-\u57DF\u540D-\u6765\u4EE3\u66FF-ip-\u7AEF\u53E3-\u8BBF\u95EE" tabindex="-1">\u6211\u4EEC\u5728\u670D\u52A1\u5668\u4E0A\u8DD1\u4E00\u4E2A node \u9879\u76EE\uFF0C\u914D\u7F6E\u7528 \u57DF\u540D \u6765\u4EE3\u66FF ip + \u7AEF\u53E3 \u8BBF\u95EE <a class="header-anchor" href="#\u6211\u4EEC\u5728\u670D\u52A1\u5668\u4E0A\u8DD1\u4E00\u4E2A-node-\u9879\u76EE\uFF0C\u914D\u7F6E\u7528-\u57DF\u540D-\u6765\u4EE3\u66FF-ip-\u7AEF\u53E3-\u8BBF\u95EE" aria-hidden="true">#</a></h4><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">listen</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">       </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">80</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">http:</span><span style="${ssrRenderStyle({ "color": "#7F848E" })}">//127.0.0.1:3002&gt;;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">listen</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">       </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">80</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">http</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#676E95" })}">//127.0.0.1:3002&gt;;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u5176\u542B\u4E49\u4E3A\u7528\u6237\u8BBF\u95EE <a href="http://nginx.deeruby.com" target="_blank" rel="noreferrer">nginx.deeruby.com</a>\u203E\\underline{<a href="http://nginx.deeruby.com" target="_blank" rel="noreferrer">nginx.deeruby.com</a>}<a href="http://nginx.deeruby.com" target="_blank" rel="noreferrer">nginx.deeruby.com</a> \u7684\u65F6\u5019\uFF0C\u5C06\u5176\u53CD\u5411\u4EE3\u7406\u5230 127.0.0.1:3002\u203E\\underline{127.0.0.1:3002}127.0.0.1:3002 \u4E0A</p><h4 id="\u89E3\u51B3\u8DE8\u57DF" tabindex="-1">\u89E3\u51B3\u8DE8\u57DF <a class="header-anchor" href="#\u89E3\u51B3\u8DE8\u57DF" aria-hidden="true">#</a></h4><p>tips\uFF1A\u5B9E\u9645\u5DE5\u4F5C\u4E2D\uFF0C\u89E3\u51B3\u8DE8\u57DF\u4E00\u822C\u4E3A\u540E\u7AEF\u914D\u7F6E CORS\uFF0C\u8BE6\u89C1\u7B14\u8005 20\u5206\u949F\uFF0C\u5DE9\u56FA\u4F60\u7684HTTP\u77E5\u8BC6\u4F53\u7CFB \u8FD9\u7BC7\u6587\u7AE0\u4E2D HTTP\u8BF7\u6C42\u65B9\u6CD5 \u91CC Options \u90E8\u5206</p><h5 id="hosts-\u914D\u7F6E" tabindex="-1">hosts \u914D\u7F6E <a class="header-anchor" href="#hosts-\u914D\u7F6E" aria-hidden="true">#</a></h5><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#D19A66" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">       </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">       nginx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="nginx-\u914D\u7F6E" tabindex="-1">nginx \u914D\u7F6E <a class="header-anchor" href="#nginx-\u914D\u7F6E" aria-hidden="true">#</a></h6><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">listen</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">       </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">80</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">http:</span><span style="${ssrRenderStyle({ "color": "#7F848E" })}">//127.0.0.1:8080&gt;;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">   </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">api</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">      </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">http:</span><span style="${ssrRenderStyle({ "color": "#7F848E" })}">//127.0.0.1:3002&gt;;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">      </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_set_header</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">Host</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$host</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">listen</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">       </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">80</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">http</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#676E95" })}">//127.0.0.1:8080&gt;;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">   </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">api</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">      </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">http</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#676E95" })}">//127.0.0.1:3002&gt;;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">      </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_set_header</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">Host</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">$host</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>\u5176\u542B\u4E49\u4E3A\u7528\u6237\u8BBF\u95EE <a href="http://nginx.deeruby.com" target="_blank" rel="noreferrer">nginx.deeruby.com</a>\u203E\\underline{<a href="http://nginx.deeruby.com" target="_blank" rel="noreferrer">nginx.deeruby.com</a>}<a href="http://nginx.deeruby.com" target="_blank" rel="noreferrer">nginx.deeruby.com</a> \u7684\u65F6\u5019\uFF0C\u5C06\u5176\u53CD\u5411\u4EE3\u7406\u5230 127.0.0.1:8080\u203E\\underline{127.0.0.1:8080}127.0.0.1:8080 \u4E0A\uFF08\u524D\u7AEF\u90E8\u5206\uFF09\uFF1B</li><li>\u8BBF\u95EE <a href="http://nginx.deeruby.com/api%E2%80%BE" target="_blank" rel="noreferrer">nginx.deeruby.com/api\u203E</a>\\underline{<a href="http://nginx.deeruby.com/api" target="_blank" rel="noreferrer">nginx.deeruby.com/api</a>}<a href="http://nginx.deeruby.com/api" target="_blank" rel="noreferrer">nginx.deeruby.com/api</a> \u7684\u65F6\u5019\uFF0C\u5C06\u5176\u53CD\u5411\u4EE3\u7406\u5230 127.0.0.1:3002/api\u203E\\underline{127.0.0.1:3002/api}127.0.0.1:3002/api \u4E0A\uFF08\u540E\u7AEF\u90E8\u5206\uFF09\uFF1B\u6B64\u65F6\u524D\u540E\u7AEF\u540C\u57DF\uFF0C\u4EE5\u6B64\u89E3\u51B3\u8DE8\u57DF\u95EE\u9898\u3002</li><li>proxy_set_header Host $host;\uFF1A\u7528\u6765\u5728\u540E\u7AEF\u83B7\u53D6\u7528\u6237\u53D1\u9001\u8FC7\u6765\u7684\u8BF7\u6C42\u5934\uFF0C\u6211\u4EEC\u770B\u56FE\u8BF4\u8BDD\uFF0C\u7B2C\u4E00\u884C\u8F93\u51FA\u4E3A\u6CA1\u914D\u7F6E\u8BE5\u6307\u4EE4\uFF0C\u7B2C\u4E8C\u884C\u4E3A\u914D\u7F6E\u4E86\u8BE5\u6307\u4EE4</li></ul><h2 id="https" tabindex="-1">HTTPS <a class="header-anchor" href="#https" aria-hidden="true">#</a></h2><h3 id="\u914D\u7F6Ehttps" tabindex="-1">\u914D\u7F6EHTTPS <a class="header-anchor" href="#\u914D\u7F6Ehttps" aria-hidden="true">#</a></h3><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">listen</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">443</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                                      # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u91C7\u7528443\u7AEF\u53E3</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5F00\u542Fssl</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">listen</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> [::]:</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">443</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">sso</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u8BC1\u4E66\u914D\u7F6E</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl_certificate</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">etc</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">sso</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">full_chain</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">pem</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;   # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">pem</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6587\u4EF6\u8DEF\u5F84</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl_certificate_key</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">etc</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">sso</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">private</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">key</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">key</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6587\u4EF6\u8DEF\u5F84</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl_session_cache</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> shared:SSL:1</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">m</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                     # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5171\u4EAB\u7F13\u5B58\u5927\u5C0F</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl_session_timeout</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> 5</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">m</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                              # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u8D85\u65F6\u65F6\u95F4</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl_ciphers</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> HIGH:</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">!</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">aNULL:</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">!</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">MD5</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                        # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u52A0\u5BC6\u7B97\u6CD5</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ssl_prefer_server_ciphers</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">on</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                        # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u4F18\u5148\u91C7\u53D6\u670D\u52A1\u5668\u7B97\u6CD5</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> http:</span><span style="${ssrRenderStyle({ "color": "#7F848E" })}">//127.0.0.1:3002;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">listen</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">443</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                                      # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u91C7\u7528443\u7AEF\u53E3</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5F00\u542Fssl</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">listen</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> [::]:</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">443</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">sso</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u8BC1\u4E66\u914D\u7F6E</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl_certificate</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">etc</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">sso</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">full_chain</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">pem</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">   # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">pem</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6587\u4EF6\u8DEF\u5F84</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl_certificate_key</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">etc</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nginx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">sso</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">private</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">key</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">key</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6587\u4EF6\u8DEF\u5F84</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl_session_cache</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">shared</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">SSL</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">1</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">m</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                     # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5171\u4EAB\u7F13\u5B58\u5927\u5C0F</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl_session_timeout</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> 5</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">m</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                              # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u8D85\u65F6\u65F6\u95F4</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl_ciphers</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">HIGH</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:!</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">aNULL</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:!</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">MD5</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                        # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u52A0\u5BC6\u7B97\u6CD5</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ssl_prefer_server_ciphers</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">on</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                        # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u4F18\u5148\u91C7\u53D6\u670D\u52A1\u5668\u7B97\u6CD5</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">http</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#676E95" })}">//127.0.0.1:3002;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h4 id="\u8BBF\u95EE-http-\u81EA\u52A8\u8DF3\u8F6C\u81F3-https" tabindex="-1">\u8BBF\u95EE HTTP \u81EA\u52A8\u8DF3\u8F6C\u81F3 HTTPS <a class="header-anchor" href="#\u8BBF\u95EE-http-\u81EA\u52A8\u8DF3\u8F6C\u81F3-https" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">listen</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">       </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">80</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">sso</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">rewrite</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">^</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">(.</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">*</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">) https:</span><span style="${ssrRenderStyle({ "color": "#7F848E" })}">//$server_name$1 permanent;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">listen</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">       </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">80</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server_name</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">sso</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">rewrite</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">^</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">(</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.*</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">) </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">https</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#676E95" })}">//$server_name$1 permanent;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="rewrite" tabindex="-1">rewrite <a class="header-anchor" href="#rewrite" aria-hidden="true">#</a></h4><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">rewrite</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">   </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">regex</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">&gt;</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    &lt;</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">replacement</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">&gt;       [flag]</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">            \u6B63\u5219       \u8DF3\u8F6C\u540E\u7684\u5185\u5BB9   rewrite\u652F\u6301\u7684flag\u6807\u8BB0</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">[flag]\uFF1Apermanent -- 301 \u6C38\u4E45\u91CD\u5B9A\u5411\uFF1Bredirect -- 302 \u4E34\u65F6\u91CD\u5B9A\u5411\uFF1B</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">rewrite   </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">regex</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&gt;</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">    </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&lt;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">replacement</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&gt;</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">       [flag]</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">            \u6B63\u5219       \u8DF3\u8F6C\u540E\u7684\u5185\u5BB9   rewrite\u652F\u6301\u7684flag\u6807\u8BB0</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">[flag]\uFF1Apermanent -- 301 \u6C38\u4E45\u91CD\u5B9A\u5411\uFF1Bredirect -- 302 \u4E34\u65F6\u91CD\u5B9A\u5411\uFF1B</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u6545\u4E0A\u6587\u914D\u7F6E\u8868\u793A\u5C06\u5F53\u524D\u8DEF\u5F84\u6C38\u4E45\u91CD\u5B9A\u5411\u5230 <a href="https://sso.deeruby.com/%E8%B7%AF%E5%BE%84%E2%80%BE%5Cunderline" target="_blank" rel="noreferrer">https://sso.deeruby.com/\u8DEF\u5F84\u203E\\underline</a>{ <a href="https://sso.deeruby.com/" target="_blank" rel="noreferrer">https://sso.deeruby.com/</a>\u8DEF\u5F84 }<a href="https://sso.deeruby.com/" target="_blank" rel="noreferrer">https://sso.deeruby.com/</a>\u8DEF\u5F84 \u4E0A</p><h2 id="\u56FE\u7247\u9632\u76D7\u94FE" tabindex="-1">\u56FE\u7247\u9632\u76D7\u94FE <a class="header-anchor" href="#\u56FE\u7247\u9632\u76D7\u94FE" aria-hidden="true">#</a></h2><ul><li>\u5F15\u8A00\uFF1Areferer\u8BF7\u6C42\u5934\u7528\u4E8E\u8BC6\u522B\u8BBF\u95EE\u6765\u6E90\uFF0C\u4EE5\u6B64\u6765\u914D\u7F6E\u9632\u76D7\u94FE\u3002</li><li>valid_referers\uFF1A\u8BBE\u7F6E\u53EF\u8BBF\u95EE\u8D44\u6E90\u7684\u89C4\u5219\uFF0C\u5176\u4E0D\u5141\u8BB8\u7684\u89C4\u5219 $invalid_referer \u503C\u4E3A1\uFF0C\u5BF9\u4E0D\u5141\u8BB8\u7684\u89C4\u5219\u8FD4\u56DE403\u3002 \u5B57\u6BB5 \u542B\u4E49</li><li>none \u5141\u8BB8\u6CA1\u6709 referer \u5B57\u6BB5\u7684\u8BF7\u6C42\u8BBF\u95EE\u8D44\u6E90</li><li>blocked \u5141\u8BB8\u975E HTTP(S) \u5F00\u5934\u7684\u8BF7\u6C42\u8BBF\u95EE\u8D44\u6E90</li><li>server_names \u5141\u8BB8\u6307\u5B9A\u57DF\u540D / IP \u8BBF\u95EE\u8D44\u6E90</li><li>[string] \u6B63\u5219\u5339\u914D\u5B9A\u4E49\u53EF\u8BBF\u95EE\u8D44\u6E90\u7684\u7F51\u5740</li></ul><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">~</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">/static/</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">*</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\\.(</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">jpg</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">jpeg</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">png</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">gif</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">webp</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">)</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">root</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">home</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">valid_referers</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">*</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">com</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#C678DD" })}">if</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> (</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$invalid_referer</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">) {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#C678DD" })}">return</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">403</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">~</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">static</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.*</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\\</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">(jpg</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">jpeg</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">png</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">gif</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">webp)$ </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">root</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">home</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">valid_referers</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">*.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deeruby</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">com</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">if</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> (</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">$invalid_referer</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">) </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">return</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">403</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u4E0A\u8FF0\u914D\u7F6E\u8868\u793A\u53EA\u6709 <a href="http://xn--y9g.deeruby.com" target="_blank" rel="noreferrer">\u2217.deeruby.com</a>*.deeruby.com\u2217.deeruby.com \u53EF\u8BBF\u95EE\u8BE5\u8D44\u6E90\uFF0C\u5426\u5219403\u62A5\u9519</p><h2 id="\u8BBF\u95EE\u9650\u5236" tabindex="-1">\u8BBF\u95EE\u9650\u5236 <a class="header-anchor" href="#\u8BBF\u95EE\u9650\u5236" aria-hidden="true">#</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">static</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">root</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">home</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">allow</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> 39.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">xxx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">xxx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">xxx</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">allow</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5141\u8BB8</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">deny</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">all</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;              # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">deny</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u62D2\u7EDD</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">static </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">root</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">home</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">allow</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> 39</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">xxx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">xxx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">xxx</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">allow</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5141\u8BB8</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deny</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">all</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">              # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">deny</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u62D2\u7EDD</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u8868\u793A\u5141\u8BB8 <a href="http://39.xxx.xxx.xxx" target="_blank" rel="noreferrer">39.xxx.xxx.xxx</a> \u8BBF\u95EE\u8BE5\u76EE\u5F55\uFF0C\u7981\u6B62\u5176\u5B83\u6240\u6709 IP \u8BBF\u95EE\uFF0C\u5176\u751F\u6548\u987A\u5E8F\u4E3A\u8C01\u5148\u89E6\u53D1\u8C01\u8D77\u4F5C\u7528\u3002</p><h2 id="\u7981\u7528\u8BF7\u6C42\u65B9\u6CD5" tabindex="-1">\u7981\u7528\u8BF7\u6C42\u65B9\u6CD5 <a class="header-anchor" href="#\u7981\u7528\u8BF7\u6C42\u65B9\u6CD5" aria-hidden="true">#</a></h2><p>\u4EC5\u5141\u8BB8\u4F7F\u7528 GET\u3001POST\u3001HEAD\u3001OPTIONS \u8FD9\u56DB\u79CD\u8BF7\u6C42\uFF0C\u4F7F\u7528\u5176\u4F59\u8BF7\u6C42\u8FD4\u56DE403</p><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#C678DD" })}">if</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> (</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$request_method</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">!~</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">^</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">(</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">GET</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">POST</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">HEAD</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">|</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">OPTIONS</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">)</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">) {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#C678DD" })}">return</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">403</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">if</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> ($request_method </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">!~</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">^</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">(GET</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">POST</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">HEAD</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">|</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">OPTIONS)$) </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">return</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">403</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="\u7F13\u5B58" tabindex="-1">\u7F13\u5B58 <a class="header-anchor" href="#\u7F13\u5B58" aria-hidden="true">#</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">expires</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> 7</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">d</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u7F13\u5B587\u5929</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">expires</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">-</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u4E0D\u7F13\u5B58</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">expires 7d</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">  # \u7F13\u5B587\u5929</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">expires </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">-</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">1</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">  # \u4E0D\u7F13\u5B58</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="pc\u7AEF\u548C\u79FB\u52A8\u7AEF\u4F7F\u7528\u4E0D\u540C\u9879\u76EE" tabindex="-1">PC\u7AEF\u548C\u79FB\u52A8\u7AEF\u4F7F\u7528\u4E0D\u540C\u9879\u76EE <a class="header-anchor" href="#pc\u7AEF\u548C\u79FB\u52A8\u7AEF\u4F7F\u7528\u4E0D\u540C\u9879\u76EE" aria-hidden="true">#</a></h2><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">root</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">home</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">static</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">pc</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#C678DD" })}">if</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> (</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$http_user_agent</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">~*</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#98C379" })}">&#39;(mobile|android|iphone|ipod|phone)&#39;</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">) {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">root</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">home</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">static</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">mobile</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">index</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">index</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">html</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">root</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">home</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">static</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">pc</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">if</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> (</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">$http_user_agent</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">~*</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&#39;</span><span style="${ssrRenderStyle({ "color": "#C3E88D" })}">(mobile|android|iphone|ipod|phone)</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">&#39;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">) </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">root</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">home</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">static</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">mobile</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">index</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">index</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">html</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>\u6CE8\u610F\uFF1A\u6761\u4EF6\u8BED\u53E5\u4E2D\u4E0D\u80FD\u4F7F\u7528\u522B\u540D\uFF0C\u82E5\u6709\u9700\u6C42\uFF0C\u53EF\u91C7\u53D6\u6298\u4E2D\u65B9\u6848\uFF0C\u91CD\u5B9A\u5411\u79FB\u52A8\u7AEF\u7F51\u5740</p><h2 id="\u8D1F\u8F7D\u5747\u8861" tabindex="-1">\u8D1F\u8F7D\u5747\u8861 <a class="header-anchor" href="#\u8D1F\u8F7D\u5747\u8861" aria-hidden="true">#</a></h2><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">upstream</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">backserver</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {              # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5B58\u653E\u8D1F\u8F7D\u5747\u8861\u6240\u9700\u53D8\u91CF</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">ip_hash</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                         # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6839\u636E\u7528\u6237\u8BBF\u95EE</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">IP</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u7684</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">hash</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5206\u914D</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u8FD9\u6837\u6BCF\u4E2A\u8BBF\u5BA2\u56FA\u5B9A\u8BBF\u95EE\u4E00\u4E2A\u540E\u7AEF\u670D\u52A1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u53EF\u6709\u6548\u89E3\u51B3\u52A8\u6001\u7F51\u9875\u5B58\u5728\u7684</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">session</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5171\u4EAB\u95EE\u9898</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">fair</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;                          # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6839\u636E\u9875\u9762\u5927\u5C0F\u548C\u52A0\u8F7D\u65F6\u95F4\u957F\u77ED\u667A\u80FD\u5730\u8FDB\u884C\u8D1F\u8F7D\u5747\u8861</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u54CD\u5E94\u65F6\u95F4\u77ED\u7684\u4F18\u5148\u5206\u914D</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">:</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">9090</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">; </span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">:</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">8080</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">weight</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">=</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">2</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u52A0\u6743</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6743\u91CD\u8D8A\u5927</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u88AB\u8BBF\u95EE\u6982\u7387\u8D8A\u5927</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">:</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">7070</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">down</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;      # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u8BE5</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u4E0D\u53C2\u4E0E\u8D1F\u8F7D\u5747\u8861</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">.</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">:</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">6060</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">backup</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;    # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5176\u4F59</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u5747\u4E0D\u53EF\u7528\u65F6</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u4F7F\u7528\u8FD9\u4E2A</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">location</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> http:</span><span style="${ssrRenderStyle({ "color": "#7F848E" })}">//backserver;  # \u63A5\u5165\u8D1F\u8F7D\u5747\u8861\u76F8\u5173\u914D\u7F6E</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">    </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">proxy_redirect</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#C678DD" })}">default</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">  }</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">upstream backserver </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">              # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5B58\u653E\u8D1F\u8F7D\u5747\u8861\u6240\u9700\u53D8\u91CF</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">ip_hash</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                         # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6839\u636E\u7528\u6237\u8BBF\u95EE</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">IP</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u7684</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">hash</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5206\u914D</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u8FD9\u6837\u6BCF\u4E2A\u8BBF\u5BA2\u56FA\u5B9A\u8BBF\u95EE\u4E00\u4E2A\u540E\u7AEF\u670D\u52A1</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u53EF\u6709\u6548\u89E3\u51B3\u52A8\u6001\u7F51\u9875\u5B58\u5728\u7684</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">session</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5171\u4EAB\u95EE\u9898</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">fair</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">                          # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6839\u636E\u9875\u9762\u5927\u5C0F\u548C\u52A0\u8F7D\u65F6\u95F4\u957F\u77ED\u667A\u80FD\u5730\u8FDB\u884C\u8D1F\u8F7D\u5747\u8861</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u54CD\u5E94\u65F6\u95F4\u77ED\u7684\u4F18\u5148\u5206\u914D</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">:</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">9090</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">:</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">8080</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">weight</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">=</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">2</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u52A0\u6743</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6743\u91CD\u8D8A\u5927</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u88AB\u8BBF\u95EE\u6982\u7387\u8D8A\u5927</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">:</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">7070</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">down</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">      # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u8BE5</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u4E0D\u53C2\u4E0E\u8D1F\u8F7D\u5747\u8861</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">127.0</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">.</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">0.1</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">:</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">6060</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">backup</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">    # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5176\u4F59</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u5747\u4E0D\u53EF\u7528\u65F6</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u4F7F\u7528\u8FD9\u4E2A</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">location</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_pass</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">http</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#676E95" })}">//backserver;  # \u63A5\u5165\u8D1F\u8F7D\u5747\u8861\u76F8\u5173\u914D\u7F6E</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">    </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">proxy_redirect</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">default</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">  </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="\u9650\u901F\u9650\u6D41" tabindex="-1">\u9650\u901F\u9650\u6D41 <a class="header-anchor" href="#\u9650\u901F\u9650\u6D41" aria-hidden="true">#</a></h2><p>limit_conn \u8FDE\u63A5\u9891\u7387\u9650\u5236\uFF1ATCP\u8FDE\u63A5</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">limit_conn_zone</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\xA0</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$binary_remote_addr</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\xA0</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">zone</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">=</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">conname:10</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">m</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">   </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">limit_conn</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">conname</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">3</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6BCF\u4E2A</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">IP</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u53EA\u80FD\u53D1\u8D773\u4E2A\u8FDE\u63A5</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">limit_conn_zone\xA0$binary_remote_addr\xA0zone</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">=</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">conname</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">10m</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">   </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">limit_conn</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">conname</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">3</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6BCF\u4E2A</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">IP</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u53EA\u80FD\u53D1\u8D773\u4E2A\u8FDE\u63A5</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>limit_req \u8BF7\u6C42\u9891\u7387\u9650\u5236\uFF1AAPI\u8BF7\u6C42</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">limit_req_zone</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">$binary_remtoe_addr</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">zone</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">=</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">conname:1</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">m</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">rate</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">=</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">10</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">r</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">s</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">   </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">limit_req</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">zone</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">=</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">conname</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">burst</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">=</span><span style="${ssrRenderStyle({ "color": "#D19A66" })}">5</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">nodelay</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u6700\u5927\u8BF7\u6C42\u6570\u4E3A5</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u4E14\u8D85\u8FC7\u7684\u8BF7\u6C42\u4E0D\u5EF6\u8FDF</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">limit_req_zone $binary_remtoe_addr zone</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">=</span><span style="${ssrRenderStyle({ "color": "#FFCB6B" })}">conname</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">:</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">1m rate</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">=</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">10r</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">s</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">   </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">limit_req</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">zone</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">=</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">conname</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">burst</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">=</span><span style="${ssrRenderStyle({ "color": "#F78C6C" })}">5</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">nodelay</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u6700\u5927\u8BF7\u6C42\u6570\u4E3A5</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">\uFF0C</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u4E14\u8D85\u8FC7\u7684\u8BF7\u6C42\u4E0D\u5EF6\u8FDF</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u5185\u5BB9 \u542B\u4E49</p><ul><li>$binary_remote_addr \u8FD9\u91CC\u586B\u5199\u7684\u662F\u9650\u6D41\u5BF9\u8C61\uFF0C\u6211\u4EEC\u91C7\u7528\u5BA2\u6237\u7AEFIP</li><li>zone=conname \u7ED9\u5171\u4EAB\u7A7A\u95F4\u8BBE\u7F6E\u540D\u79F0\u4E3A\uFF1Aconname</li><li>10m \u7A7A\u95F4\u5927\u5C0F\uFF1A10\u5146</li><li>rate \u901F\u7387\uFF0C\u4E0A\u8FF0\u8868\u793A\u6BCF\u79D2\u6700\u591A\u53D1\u8D7710\u4E2A\u8BF7\u6C42</li><li>limit_conn \u9650\u5236\u6BCF\u4E2Aname\u5BF9\u5E94\u7684\u8FDE\u63A5\u6570</li><li>limit_req \u9650\u5236\u6BCF\u4E2Aname\u5BF9\u5E94\u7684\u8BF7\u6C42\u6570</li></ul><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">server</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> {</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">   </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">limit_rate_after</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> 10</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">m</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;  # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u524D10\u5146\u5927\u5C0F\u4E0D\u9650\u901F</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">   </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">limit_rate</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> 100</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">k</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;       # </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u9650\u901F\u4E3A</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> 100</span><span style="${ssrRenderStyle({ "color": "#E5C07B" })}">KB</span><span style="${ssrRenderStyle({ "color": "#56B6C2" })}">/</span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">\u79D2</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">server </span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">{</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">   </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">limit_rate_after</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> 10</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">m</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">  # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u524D10\u5146\u5927\u5C0F\u4E0D\u9650\u901F</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#F07178" })}">   </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">limit_rate</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> 100</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">k</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span><span style="${ssrRenderStyle({ "color": "#F07178" })}">       # </span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u9650\u901F\u4E3A</span><span style="${ssrRenderStyle({ "color": "#F07178" })}"> 100</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">KB</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">/</span><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">\u79D2</span></span>
<span class="line"><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u8FD9\u91CC\u53EF\u7528 ab \u547D\u4EE4\u8FDB\u884C\u538B\u6D4B ab -n[number] -c[number] -k url \u5B57\u6BB5 \u542B\u4E49</p><ul><li>-n \u4E00\u5171\u53D1\u9001\u591A\u5C11\u8BF7\u6C42</li><li>-c \u540C\u65F6\u53D1\u9001\u591A\u5C11\u8BF7\u6C42</li><li>-k keep-alive</li></ul><h2 id="\u5176\u5B83" tabindex="-1">\u5176\u5B83 <a class="header-anchor" href="#\u5176\u5B83" aria-hidden="true">#</a></h2><h3 id="\u5F00\u542Fgzip" tabindex="-1">\u5F00\u542Fgzip <a class="header-anchor" href="#\u5F00\u542Fgzip" aria-hidden="true">#</a></h3><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="vp-code-dark"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#E06C75" })}">gzip</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}"> </span><span style="${ssrRenderStyle({ "color": "#E06C75" })}">on</span><span style="${ssrRenderStyle({ "color": "#ABB2BF" })}">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="${ssrRenderStyle({ "color": "#A6ACCD" })}">gzip on</span><span style="${ssrRenderStyle({ "color": "#89DDFF" })}">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("interview-questions/nginx/basis/index.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const index = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  index as default
};
