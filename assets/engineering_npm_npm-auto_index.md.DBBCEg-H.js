import{_ as i,o as p,c as l,J as a,w as o,m as e,a as r,aa as c,E as s}from"./chunks/framework.DJCjJe2w.js";const y=JSON.parse('{"title":"实现命令行自动补全","description":"","frontmatter":{"createTime":"2022/11/03","tag":"工程化,npm"},"headers":[],"relativePath":"engineering/npm/npm-auto/index.md","filePath":"engineering/npm/npm-auto/index.md","lastUpdated":1667489121000}'),h={name:"engineering/npm/npm-auto/index.md"},m=e("h1",{id:"实现命令行自动补全",tabindex:"-1"},[r("实现命令行自动补全 "),e("a",{class:"header-anchor",href:"#实现命令行自动补全","aria-label":'Permalink to "实现命令行自动补全"'},"​")],-1),d=c(`<p>当 npm script 里面积累的命令越来越多时，重度命令行用户肯定会好奇，能不能实现类似 bash、zsh 里面的命令自动补全？答案是肯定的，下面来逐一介绍。</p><h2 id="把-npm-completion-集成到-shell-中" tabindex="-1">把 npm completion 集成到 shell 中 <a class="header-anchor" href="#把-npm-completion-集成到-shell-中" aria-label="Permalink to &quot;把 npm completion 集成到 shell 中&quot;">​</a></h2><p>npm 自身提供了自动完成工具 completion，将其集成到 bash 或者 zsh 里也非常容易</p><p>官方文档里面的集成方法如下</p><div class="language-js vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npm completion </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.bashrc</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">npm completion </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ~/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.zshrc</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="更高级的自动完成" tabindex="-1">更高级的自动完成 <a class="header-anchor" href="#更高级的自动完成" aria-label="Permalink to &quot;更高级的自动完成&quot;">​</a></h2><p>人类对于效率的追求是永无止境的，工程师更是如此，npm 命令补全到目前为止显然还不够高效，能不能补全 package.json 里面的依赖名称？能不能在补全 npm script 的时候列出这个命令是干啥的？</p><p>有人已经帮我们解决了这个痛点，还写成了 zsh 插件（bash 的同学无福消受了）：zsh-better-npm-completion，它有以下几个让人无法拒绝的便利： <a href="https://github.com/lukechilds/zsh-better-npm-completion" target="_blank" rel="noreferrer">https://github.com/lukechilds/zsh-better-npm-completion</a></p><h3 id="_1-在-npm-install-时自动根据历史安装过的包给出补全建议" tabindex="-1">1. 在 npm install 时自动根据历史安装过的包给出补全建议 <a class="header-anchor" href="#_1-在-npm-install-时自动根据历史安装过的包给出补全建议" aria-label="Permalink to &quot;1. 在 npm install 时自动根据历史安装过的包给出补全建议&quot;">​</a></h3><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/12/3/1601bce81ef5dac6~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="图片"></p><h3 id="_2-在-npm-uninstall-时候根据-package-json-里面的声明给出补全建议" tabindex="-1">2. 在 npm uninstall 时候根据 package.json 里面的声明给出补全建议 <a class="header-anchor" href="#_2-在-npm-uninstall-时候根据-package-json-里面的声明给出补全建议" aria-label="Permalink to &quot;2. 在 npm uninstall 时候根据 package.json 里面的声明给出补全建议&quot;">​</a></h3><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/12/3/1601bcec1c11549f~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="图片"></p><h3 id="_3-在-npm-run-时补全建议中列出命令细节" tabindex="-1">3. 在 npm run 时补全建议中列出命令细节 <a class="header-anchor" href="#_3-在-npm-run-时补全建议中列出命令细节" aria-label="Permalink to &quot;3. 在 npm run 时补全建议中列出命令细节&quot;">​</a></h3><p><img src="https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2017/12/3/1601bcf08dc06346~tplv-t2oaga2asx-zoom-in-crop-mark:3024:0:0:0.awebp" alt="图片"></p>`,14);function g(k,u,b,_,x,f){const n=s("ArticleMetadata"),t=s("ClientOnly");return p(),l("div",null,[m,a(t,null,{default:o(()=>[a(n)]),_:1}),d])}const j=i(h,[["render",g]]);export{y as __pageData,j as default};
